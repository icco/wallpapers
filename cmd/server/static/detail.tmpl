<!doctype html>
<html>

  <head lang="en">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{.Image.Filename}} - Wallpapers</title>

    <link rel="stylesheet" type="text/css" href="/css/tachyons.min.css">
    <style>
      .main-image {
        max-width: 100%;
        height: auto;
        display: block;
        border: 1px solid #CCC;
      }

      .main-image:hover {
        border-color: #2BA6CB;
      }

      a,
      a:link,
      a:visited {
        transition: color .4s;
        color: #265C83;
      }

      a:hover {
        color: #7FDBFF;
      }

      a:active {
        transition: color .3s;
        color: #007BE6;
      }

      dl, dd {
        margin-left: 0;
      }

      /* Responsive metadata grid */
      .meta-grid {
        display: flex;
        flex-wrap: wrap;
        gap: 1.5rem 2rem;
      }

      @media (max-width: 599px) {
        .meta-grid {
          gap: 1rem 1.5rem;
        }
      }

      /* Download links */
      .download-links {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem 1rem;
        align-items: center;
      }

      @media (max-width: 480px) {
        .download-links {
          flex-direction: column;
          align-items: flex-start;
        }

        .download-links .separator {
          display: none;
        }
      }

      /* Mobile typography adjustments */
      @media (max-width: 480px) {
        .f3-ns {
          font-size: 1.25rem;
        }

        .filename-text {
          word-break: break-all;
        }
      }

      /* Container padding for mobile */
      @media (max-width: 599px) {
        .pa3 {
          padding: 0.75rem;
        }
      }

      /* Keywords wrapping */
      .keywords-list {
        word-wrap: break-word;
        overflow-wrap: break-word;
      }
    </style>

    <script type="module">
      import { onCLS, onINP, onLCP, onFCP, onFID, onTTFB } from 'https://unpkg.com/web-vitals@4?module';

      function sendToAnalytics(metric) {
        const body = JSON.stringify(metric);
        (navigator.sendBeacon && navigator.sendBeacon('https://reportd.natwelch.com/analytics/wallpapers', body)) ||
          fetch('https://reportd.natwelch.com/analytics/wallpapers', { body, method: 'POST', keepalive: true });
      }

      onCLS(sendToAnalytics);
      onFCP(sendToAnalytics);
      onFID(sendToAnalytics);
      onINP(sendToAnalytics);
      onLCP(sendToAnalytics);
      onTTFB(sendToAnalytics);
    </script>
  </head>

  <body>
    <div class="pa3 mw8 center">

      <p class="mb3"><a href="/">&larr; Back</a></p>

      <div class="tc mb3">
        <img src="{{.Image.FullRezURL}}" alt="{{.Image.Filename}}" class="main-image" />
      </div>
      <p class="f6 mt2 mb4 download-links">
        <a href="{{.Image.FullRezURL}}">Desktop Size (3840x2160)</a>
        <span class="separator">&middot;</span>
        <a href="{{.Image.RawURL}}">Original Image</a>
      </p>

      <article>
        <dl class="db mb3">
          <dd class="f6 f5-ns b ml0 gray">Filename</dd>
          <dd class="f4 f3-ns b ml0 filename-text">{{.Image.Filename}}</dd>
        </dl>

        <div class="meta-grid">
          {{if and .Image.Width .Image.Height}}
          <dl>
            <dd class="f6 f5-ns b ml0 gray">Resolution</dd>
            <dd class="f4 f3-ns b ml0">{{.Image.Width}} &times; {{.Image.Height}}</dd>
          </dl>
          {{end}}

          {{if .Image.FileFormat}}
          <dl>
            <dd class="f6 f5-ns b ml0 gray">Format</dd>
            <dd class="f4 f3-ns b ml0 ttu">{{.Image.FileFormat}}</dd>
          </dl>
          {{end}}

          {{if .Image.PixelDensity}}
          <dl>
            <dd class="f6 f5-ns b ml0 gray">Megapixels</dd>
            <dd class="f4 f3-ns b ml0">{{printf "%.1f" .Image.PixelDensity}} MP</dd>
          </dl>
          {{end}}

          <dl>
            <dd class="f6 f5-ns b ml0 gray">Added</dd>
            <dd class="f4 f3-ns b ml0">{{.Image.DateAdded.Format "Jan 2, 2006"}}</dd>
          </dl>

          {{if .Image.Colors}}
          <dl>
            <dd class="f6 f5-ns b ml0 gray">Colors</dd>
            <dd class="f4 f3-ns b ml0">
              {{range $i, $color := .Image.Colors}}{{if $i}} &middot; {{end}}<a href="/?q={{$color}}">{{$color}}</a>{{end}}
            </dd>
          </dl>
          {{end}}
        </div>

        <dl class="db mt3">
          <dd class="f6 f5-ns b ml0 gray">Keywords</dd>
          <dd class="f4 f3-ns b ml0 keywords-list">
            {{if .Image.Words}}
            {{range $i, $word := .Image.Words}}{{if $i}} &middot; {{end}}<a href="/?q={{$word}}">{{$word}}</a>{{end}}
            {{else}}
            <span class="gray i">No keywords extracted yet</span>
            {{end}}
          </dd>
        </dl>
      </article>

      <div class="footer mt4 pt3 bt b--light-gray">
        <p class="f6 gray"><a href="https://github.com/icco/wallpapers">code</a> &copy; 2012 &mdash; 2025 Nat Welch.</p>
      </div>

    </div>
  </body>

</html>
